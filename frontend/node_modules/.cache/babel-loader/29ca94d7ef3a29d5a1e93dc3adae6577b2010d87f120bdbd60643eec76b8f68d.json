{"ast":null,"code":"import { apiService } from './api';\nclass AuthService {\n  async login(email, password) {\n    try {\n      const response = await apiService.post('/auth/login', {\n        email,\n        password\n      });\n      if (response.token) {\n        localStorage.setItem('authToken', response.token);\n      }\n      return response.user;\n    } catch (error) {\n      throw new Error(error.message || 'Ошибка входа');\n    }\n  }\n  async register(username, email, password) {\n    try {\n      const response = await apiService.post('/auth/register', {\n        username,\n        email,\n        password\n      });\n      return response;\n    } catch (error) {\n      throw new Error(error.message || 'Ошибка регистрации');\n    }\n  }\n  async logout() {\n    try {\n      localStorage.removeItem('authToken');\n      return true;\n    } catch (error) {\n      throw new Error(error.message || 'Ошибка выхода');\n    }\n  }\n  async getCurrentUser() {\n    try {\n      const token = localStorage.getItem('authToken');\n      if (!token) {\n        return null;\n      }\n      const response = await apiService.get('/auth/me');\n      return response.user;\n    } catch (error) {\n      localStorage.removeItem('authToken');\n      return null;\n    }\n  }\n  isAuthenticated() {\n    return !!localStorage.getItem('authToken');\n  }\n}\nexport const authService = new AuthService();","map":{"version":3,"names":["apiService","AuthService","login","email","password","response","post","token","localStorage","setItem","user","error","Error","message","register","username","logout","removeItem","getCurrentUser","getItem","get","isAuthenticated","authService"],"sources":["C:/quizgrad/frontend/src/services/authService.js"],"sourcesContent":["import { apiService } from './api';\r\n\r\nclass AuthService {\r\n  async login(email, password) {\r\n    try {\r\n      const response = await apiService.post('/auth/login', { email, password });\r\n      \r\n      if (response.token) {\r\n        localStorage.setItem('authToken', response.token);\r\n      }\r\n      \r\n      return response.user;\r\n    } catch (error) {\r\n      throw new Error(error.message || 'Ошибка входа');\r\n    }\r\n  }\r\n\r\n  async register(username, email, password) {\r\n    try {\r\n      const response = await apiService.post('/auth/register', { \r\n        username, \r\n        email, \r\n        password \r\n      });\r\n      \r\n      return response;\r\n    } catch (error) {\r\n      throw new Error(error.message || 'Ошибка регистрации');\r\n    }\r\n  }\r\n\r\n  async logout() {\r\n    try {\r\n      localStorage.removeItem('authToken');\r\n      return true;\r\n    } catch (error) {\r\n      throw new Error(error.message || 'Ошибка выхода');\r\n    }\r\n  }\r\n\r\n  async getCurrentUser() {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      \r\n      if (!token) {\r\n        return null;\r\n      }\r\n      \r\n      const response = await apiService.get('/auth/me');\r\n      return response.user;\r\n    } catch (error) {\r\n      localStorage.removeItem('authToken');\r\n      return null;\r\n    }\r\n  }\r\n\r\n  isAuthenticated() {\r\n    return !!localStorage.getItem('authToken');\r\n  }\r\n}\r\n\r\nexport const authService = new AuthService();"],"mappings":"AAAA,SAASA,UAAU,QAAQ,OAAO;AAElC,MAAMC,WAAW,CAAC;EAChB,MAAMC,KAAKA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IAC3B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAML,UAAU,CAACM,IAAI,CAAC,aAAa,EAAE;QAAEH,KAAK;QAAEC;MAAS,CAAC,CAAC;MAE1E,IAAIC,QAAQ,CAACE,KAAK,EAAE;QAClBC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,QAAQ,CAACE,KAAK,CAAC;MACnD;MAEA,OAAOF,QAAQ,CAACK,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAM,IAAIC,KAAK,CAACD,KAAK,CAACE,OAAO,IAAI,cAAc,CAAC;IAClD;EACF;EAEA,MAAMC,QAAQA,CAACC,QAAQ,EAAEZ,KAAK,EAAEC,QAAQ,EAAE;IACxC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAML,UAAU,CAACM,IAAI,CAAC,gBAAgB,EAAE;QACvDS,QAAQ;QACRZ,KAAK;QACLC;MACF,CAAC,CAAC;MAEF,OAAOC,QAAQ;IACjB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACd,MAAM,IAAIC,KAAK,CAACD,KAAK,CAACE,OAAO,IAAI,oBAAoB,CAAC;IACxD;EACF;EAEA,MAAMG,MAAMA,CAAA,EAAG;IACb,IAAI;MACFR,YAAY,CAACS,UAAU,CAAC,WAAW,CAAC;MACpC,OAAO,IAAI;IACb,CAAC,CAAC,OAAON,KAAK,EAAE;MACd,MAAM,IAAIC,KAAK,CAACD,KAAK,CAACE,OAAO,IAAI,eAAe,CAAC;IACnD;EACF;EAEA,MAAMK,cAAcA,CAAA,EAAG;IACrB,IAAI;MACF,MAAMX,KAAK,GAAGC,YAAY,CAACW,OAAO,CAAC,WAAW,CAAC;MAE/C,IAAI,CAACZ,KAAK,EAAE;QACV,OAAO,IAAI;MACb;MAEA,MAAMF,QAAQ,GAAG,MAAML,UAAU,CAACoB,GAAG,CAAC,UAAU,CAAC;MACjD,OAAOf,QAAQ,CAACK,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,YAAY,CAACS,UAAU,CAAC,WAAW,CAAC;MACpC,OAAO,IAAI;IACb;EACF;EAEAI,eAAeA,CAAA,EAAG;IAChB,OAAO,CAAC,CAACb,YAAY,CAACW,OAAO,CAAC,WAAW,CAAC;EAC5C;AACF;AAEA,OAAO,MAAMG,WAAW,GAAG,IAAIrB,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}